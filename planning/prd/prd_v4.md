# PRD v4: FAN:STAGE MVP - 개선된 화면별 상세 명세

**작성자**: Athena PM (CEO, TPM 검토 반영)  
**작성 일시**: 2024년  
**버전**: v4  
**기반**: PRD v3 (prd/prd_v3.md), CEO-TPM 검토 (conversations/phase4_dev/ceo_tpm_prd_review.md)

---

## 변경 사항 요약

PRD v4는 CEO와 TPM의 검토를 반영하여 다음 사항을 개선했습니다:

1. ✅ **데모 모드 P0으로 승격** - 로그인 없이 체험 가능
2. ✅ **랜딩 페이지 차별점 강화** - 페인포인트 및 사용 사례 추가
3. ✅ **편지 생성 플로우 단순화** - Step 2 모달화
4. ✅ **플랫폼 연동 개선** - 기본 플랫폼 설정 추가
5. ✅ **바이럴 요소 강화** - OG 태그, SNS 공유, 미리보기 이미지

---

## 1. 핵심 개선사항

### 1.1 사용자 유입 개선

**문제점:**
- 로그인 → 온보딩 → 편지 생성까지 30초 이상 소요
- 사용자가 서비스를 체험하기 전에 로그인해야 함

**해결책: 데모 모드 (P0)**
- 로그인 없이 편지 생성 체험 가능
- 만족하면 로그인하여 영구 저장
- 전환율 향상 기대

### 1.2 차별점 명확화

**문제점:**
- "플랫폼 중립적 음악 공유"만으로는 차별점이 불명확

**해결책:**
- 구체적인 페인포인트 제시
- 사용 사례 추가
- 감성적 가치 강조

### 1.3 사용자 플로우 단순화

**문제점:**
- 편지 생성 플로우가 너무 복잡 (Step 1 → Step 2)
- 플랫폼 연동이 번거로움

**해결책:**
- Step 2 모달화로 플로우 중단 최소화
- 기본 플랫폼 설정으로 자동 연동

---

## 2. 화면별 상세 명세 (개선 반영)

### 2.1 랜딩 페이지 (`/`) - 개선

#### 화면 목적
- 서비스의 핵심 가치 전달
- **구체적인 페인포인트 제시**
- 사용자의 첫 액션 유도 (데모 체험 또는 가입)

#### 화면 구성 (개선)

1. **Header**
   - 로고 및 브랜드명
   - 네비게이션 (보관함, 둘러보기)
   - 로그인 버튼 또는 프로필

2. **히어로 섹션 (개선)**
   - 배지: "플랫폼이 달라도 음악 공유"
   - 헤딩: "메시지와 함께 음악을 선물하세요"
   - 서브헤딩: "어떤 플랫폼이든 상관없이"
   - 본문: 
     - "친구가 Spotify 쓰는데 나는 Apple Music 써서 음악 공유가 안 되는 문제를 해결합니다"
     - "단순 링크가 아닌, 메시지와 함께 감성을 전달하세요"
   - CTA 버튼: 
     - "로그인 없이 체험하기" (주요 CTA)
     - "편지 만들기" (로그인 사용자용)

3. **페인포인트 섹션 (신규 추가)**
   - 플랫폼 중립성: "Spotify, Apple Music, YouTube Music 모두 지원"
   - 감성 전달: "메시지와 함께 음악을 선물하세요"
   - 영구 보관: "받은 편지를 영구적으로 보관하고 다시 찾을 수 있습니다"

4. **사용 사례 섹션 (신규 추가)**
   - 생일 선물: "생일 축하 메시지와 함께 플레이리스트 공유"
   - 위로 메시지: "위로의 말과 함께 힐링 음악 전달"
   - 기념일 추억: "기념일 추억을 음악으로 남기기"

5. **추천 편지 섹션**
   - 섹션 제목: "추천 편지"
   - 편지 카드 그리드 (3개)
   - "전체 보기" 링크

6. **이용 방법 섹션**
   - 3단계 설명 (플레이리스트 만들기, 메시지 작성, 어디든 공유)

7. **CTA 섹션**
   - 헤딩: "오늘부터 음악을 공유하세요"
   - 설명: "수천 명의 뮤지션과 음악 애호가들이 함께하고 있습니다"
   - 버튼: "로그인 없이 체험하기"

#### 필수 동작 (P0) - 개선

**1. "로그인 없이 체험하기" 버튼 클릭 (신규)**
- **동작**: 데모 모드로 편지 생성 페이지로 이동 (`/create?demo=true`)
- **피드백**: 상단에 "데모 모드" 배지 표시

**2. "편지 만들기" 버튼 클릭**
- **동작**: 로그인 상태 확인
  - 로그인 안 됨 → 로그인 선택 모달 표시
    - "로그인하고 시작하기"
    - "로그인 없이 체험하기"
  - 로그인 됨 → `/create`로 이동

**3. 추천 편지 카드 클릭**
- **동작**: 해당 편지의 상세 페이지로 이동 (`/letters/[id]`)
- **피드백**: 카드 호버 시 약간의 scale 효과

**4. "전체 보기" 클릭**
- **동작**: `/discover`로 이동

---

### 2.2 온보딩 페이지 (`/onboarding`) - 개선

#### 화면 목적
- 신규 사용자의 프로필 설정
- **기본 플랫폼 설정 추가**

#### 화면 구성 (개선)

1. **헤딩**
   - "프로필 설정"
   - "닉네임과 프로필 사진을 설정해주세요"

2. **프로필 이미지 업로드**
   - 원형 프로필 이미지 영역
   - 업로드 버튼 (+ 아이콘)
   - "프로필 사진 (선택)" 텍스트

3. **닉네임 입력**
   - 입력 필드
   - 문자 수 표시 (0/20)
   - 필수 표시 (*)

4. **기본 플랫폼 설정 (신규 추가)**
   - "주로 사용하는 음악 플랫폼" 선택
   - 선택 옵션:
     - Spotify
     - Apple Music
     - YouTube Music
     - 멜론
     - 없음 (나중에 설정)
   - 설명: "편지를 받을 때 자동으로 이 플랫폼에서 재생됩니다"

5. **시작하기 버튼**
   - 비활성화 상태 (닉네임 미입력 시)

#### 필수 동작 (P0) - 개선

**1. 기본 플랫폼 선택 (신규)**
- **동작**: 드롭다운 또는 라디오 버튼으로 선택
- **저장**: 사용자 프로필에 `defaultPlatform` 필드로 저장
- **기본값**: "없음" (선택하지 않으면 나중에 설정 가능)

**2. 시작하기 버튼 클릭**
- **전제 조건**: 닉네임이 유효하고 중복되지 않음
- **동작**: 
  1. 프로필 정보 저장 (닉네임, 프로필 이미지, 기본 플랫폼)
  2. 로딩 표시
  3. 저장 완료 후 `/inbox`로 이동

---

### 2.3 편지 생성 페이지 (`/create`) - 개선

#### 화면 목적
- 음악 편지 생성
- **데모 모드 지원 추가**
- 플레이리스트 구성 및 메시지 작성
- 편지 공유 링크 생성

#### 화면 구성 (개선)

**Step 1: 편지 작성 (개선)**

1. **헤더**
   - "음악 편지 만들기"
   - 데모 모드일 경우: "데모 모드" 배지 표시
   - 데모 모드일 경우: "저장하려면 로그인이 필요합니다" 안내 메시지

2. **왼쪽: 입력 폼**
   - 곡 추가 카드
     - 검색 입력 필드
     - 검색 결과 목록
   - 메시지 카드
     - 텍스트 영역 (최대 500자)
     - 문자 수 표시
     - 템플릿 사용 버튼
   - 공개 설정 카드
     - 비공개 체크박스
     - 설명 텍스트

3. **오른쪽: 미리보기**
   - 편지 미리보기 카드
   - 실시간 업데이트

4. **완료 버튼 (개선)**
   - "완료 및 공유" 버튼
   - 클릭 시 완성 모달 열림

**완성 모달 (Step 2 대체, 신규)**

1. **모달 헤더**
   - "편지가 완성되었습니다!"
   - 데모 모드일 경우: "임시 링크 (24시간 후 만료)" 표시

2. **공유 링크 카드**
   - 링크 입력 필드
   - 복사 버튼

3. **QR 코드 카드**
   - QR 코드 이미지
   - 설명 텍스트

4. **SNS 공유 버튼 (신규)**
   - 카카오톡 공유
   - 페이스북 공유
   - 트위터 공유

5. **액션 버튼**
   - 데모 모드일 경우:
     - "영구 저장하려면 로그인하기" (주요 버튼)
     - "계속 만들기"
   - 로그인 사용자일 경우:
     - "수정하기"
     - "완료" (보관함으로 이동)

#### 필수 동작 (P0) - 개선

**데모 모드 동작 (신규):**

**1. 데모 모드 진입**
- 랜딩 페이지에서 "로그인 없이 체험하기" 클릭
- URL에 `?demo=true` 파라미터 추가
- 로컬 스토리지에 `demo_mode: true` 저장

**2. 데모 모드 편지 생성**
- 일반 편지 생성과 동일한 UI
- 상단에 "데모 모드" 배지 표시
- 로컬 스토리지에 임시 저장

**3. 데모 모드 완성**
- 완성 모달에서 "임시 링크 (24시간 후 만료)" 표시
- 링크 복사 및 공유 가능
- "영구 저장하려면 로그인하기" 버튼 강조

**4. 데모 모드에서 로그인 전환**
- "영구 저장하려면 로그인하기" 클릭
- 로그인 페이지로 이동
- 로그인 완료 후 로컬 스토리지 데이터를 서버로 마이그레이션
- 편지가 보관함에 저장됨

**Step 1 동작 (기존 유지):**

**1. 곡 검색**
- 검색어 입력
- 자동완성 결과 표시 (최대 10개)
- 곡 선택 시 플레이리스트에 추가

**2. 곡 추가/삭제**
- 검색 결과에서 곡 선택
- 곡 목록에서 삭제 버튼 클릭

**3. 곡 순서 변경**
- 드래그 앤 드롭으로 순서 변경

**4. 메시지 작성**
- 텍스트 입력 및 실시간 미리보기 업데이트
- 최대 500자

**5. 템플릿 사용**
- 템플릿 선택 시 메시지 자동 입력

**6. 공개 설정 변경**
- 체크박스 토글
- 비공개/공개 선택

**7. 완료 버튼 클릭**
- **동작**: 완성 모달 열림 (Step 2 대체)
- **전제 조건**: 메시지가 입력됨

**완성 모달 동작 (Step 2 대체):**

**1. 링크 복사**
- 클립보드에 복사 및 토스트 메시지 표시

**2. QR 코드 표시**
- 편지 링크를 포함한 QR 코드 생성 및 표시

**3. SNS 공유 (신규)**
- 각 SNS 플랫폼별 공유 버튼 클릭
- 공유 모달 또는 새 창 열림

**4. 수정하기 버튼 클릭**
- 모달 닫기 및 Step 1로 돌아가기 (입력 내용 유지)

**5. 완료 버튼 클릭**
- 편지 저장 (데모 모드가 아닌 경우)
- 로딩 표시
- 저장 완료 후 `/inbox`로 이동

---

### 2.7 편지 상세 페이지 (`/letters/[id]`) - 개선

#### 화면 목적
- 편지 전체 내용 표시
- 플레이리스트 확인 및 재생
- 편지 상호작용 (좋아요, 공유)
- **기본 플랫폼 자동 연동**

#### 화면 구성 (개선)

1. **뒤로 가기 버튼**
   - 이전 페이지로 이동

2. **편지 카드**
   - 보낸 사람 정보 (프로필 이미지, 이름, 날짜)
   - 좋아요 버튼
   - 메시지 영역
   - 통계 (곡 수, 재생 수, 좋아요 수)

3. **플레이리스트**
   - 제목: "플레이리스트"
   - **전체 재생 버튼 (개선)**
     - 사용자의 기본 플랫폼으로 바로 재생
     - 기본 플랫폼이 없으면 "재생" 버튼 클릭 시 플랫폼 선택 모달 표시
   - 곡 목록 (번호, 앨범 아트, 제목, 아티스트, 더보기 버튼)

4. **공유 버튼 (신규 추가)**
   - 링크 복사
   - SNS 공유 (카카오톡, 페이스북, 트위터)

#### 필수 동작 (P0) - 개선

**1. 전체 재생 버튼 클릭 (개선)**
- **기본 플랫폼이 설정된 경우:**
  - 기본 플랫폼으로 바로 재생
  - 로그인이 필요한 경우 로그인 후 재생
- **기본 플랫폼이 없는 경우:**
  - 플랫폼 선택 모달 표시
  - 선택한 플랫폼으로 재생
  - 선택한 플랫폼을 기본 플랫폼으로 저장 (선택적)

**2. 곡 클릭**
- 해당 플랫폼에서 곡 재생
- 기본 플랫폼이 설정된 경우 기본 플랫폼으로 재생
- 기본 플랫폼이 없는 경우 플랫폼 선택 모달 표시

**3. 공유 버튼 클릭 (신규)**
- 공유 모달 표시
- 링크 복사, SNS 공유 옵션 제공

**4. 좋아요 클릭**
- 좋아요 토글
- 좋아요 수 업데이트

---

## 3. 바이럴 요소 강화

### 3.1 OG 태그 (Open Graph)

**구현:**
- 편지 상세 페이지에 OG 태그 추가
- 동적 메타데이터 생성

**메타데이터:**
```html
<meta property="og:title" content="[보낸 사람]님이 보낸 음악 편지" />
<meta property="og:description" content="[메시지 미리보기 (최대 200자)]" />
<meta property="og:image" content="[편지 미리보기 이미지 URL]" />
<meta property="og:url" content="[편지 링크]" />
<meta property="og:type" content="website" />
```

### 3.2 미리보기 이미지 생성

**구현:**
- 서버 사이드에서 동적 생성
- Canvas API 또는 서버리스 함수 사용

**이미지 구성:**
- 보낸 사람 프로필 이미지 및 이름
- 메시지 미리보기
- 곡 수 표시
- 브랜드 로고

**용도:**
- SNS 공유 시 미리보기
- 링크 공유 시 카드 형태 표시

### 3.3 SNS 공유 최적화

**지원 플랫폼:**
- 카카오톡
- 페이스북
- 트위터
- 링크 복사

**공유 내용:**
- 편지 제목 (보낸 사람 + "님이 보낸 음악 편지")
- 메시지 미리보기
- 미리보기 이미지
- 편지 링크

---

## 4. 사용자 플로우 개선

### 4.1 신규 사용자 플로우 (개선)

```
랜딩 페이지 (/)
  ↓ [로그인 없이 체험하기 클릭]
편지 생성 페이지 데모 모드 (/create?demo=true)
  ↓ [곡 추가 및 메시지 작성]
완성 모달
  ↓ [영구 저장하려면 로그인하기 클릭]
로그인 페이지 (/login)
  ↓ [소셜 로그인 완료]
온보딩 페이지 (/onboarding)
  ↓ [닉네임 입력 및 기본 플랫폼 설정]
보관함 페이지 (/inbox)
  ↓ [데모 모드 편지가 자동으로 저장됨]
```

### 4.2 기존 사용자 플로우 (개선)

```
랜딩 페이지 (/)
  ↓ [편지 만들기 클릭]
편지 생성 페이지 (/create)
  ↓ [곡 추가 및 메시지 작성]
완성 모달
  ↓ [완료 클릭]
보관함 페이지 (/inbox)
  ↓ [편지 카드 클릭]
편지 상세 페이지 (/letters/[id])
  ↓ [전체 재생 클릭 - 기본 플랫폼으로 자동 재생]
플랫폼에서 플레이리스트 재생
```

---

## 5. 우선순위 정리 (개선 반영)

### P0 (필수 - MVP)

**기존 P0:**
- 모든 화면의 기본 동작
- 로그인/가입 플로우
- 편지 생성 기본 기능
- 편지 확인 기능

**추가 P0 (개선):**
- ✅ 데모 모드 구현
- ✅ 랜딩 페이지 차별점 강화
- ✅ 편지 생성 플로우 단순화 (완성 모달)
- ✅ 기본 플랫폼 설정
- ✅ OG 태그 및 미리보기 이미지
- ✅ SNS 공유 기본 기능

### P1 (중요 - UX 개선)

- 곡 검색 자동완성
- 정렬/필터 기능
- 임시 저장
- 플랫폼 자동 선택 고도화

### P2 (향후)

- 댓글 기능
- 추천 시스템
- 알림 기능
- 편지 수정 기능

---

## 6. 성공 지표

### 사용자 유입 지표
- 데모 모드 사용률: 50% 이상
- 데모 모드에서 로그인 전환율: 30% 이상
- 전체 가입 전환율: 70% 이상 (기존 대비 향상)

### 사용자 경험 지표
- 편지 생성 완료 시간: 3분 이내 (기존 유지)
- 첫 편지 생성까지 시간: 30초 이내 (개선 목표)
- 사용자 만족도: 4.0/5.0 이상

### 바이럴 지표
- 편지 공유율: 40% 이상
- SNS 공유율: 20% 이상
- 공유된 편지의 열람률: 30% 이상

---

**작성 완료일**: 2024년  
**검토 완료**: CEO, TPM  
**다음 단계**: 개발 시작


