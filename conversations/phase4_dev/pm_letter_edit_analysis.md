# 보낸 편지 수정 기능 분석

**작성자**: Athena PM  
**작성 일시**: 2024년  
**목적**: 보낸 편지 수정 기능의 필요성 및 우선순위 분석

---

## 현재 상황 분석

### 현재 구현 상태
- ✅ 완성 모달에서 "수정하기" 버튼 존재 (완성 전 수정)
- ❌ 보관함의 "보낸 편지"에서 수정 기능 없음
- ❌ 편지 상세 페이지에서 수정 기능 없음
- 📝 PRD v4에 "편지 수정 기능"이 P2 (향후)로 명시됨

### 사용자 시나리오 분석

**시나리오 1: 오타 발견**
- 사용자가 편지를 보낸 후 메시지에 오타를 발견함
- 수신자가 아직 편지를 읽지 않았을 가능성이 있음
- 수정하고 싶은 욕구 발생

**시나리오 2: 곡 추가/삭제**
- 편지를 보낸 후 더 좋은 곡을 발견함
- 또는 특정 곡이 마음에 들지 않아 제거하고 싶음
- 수신자가 이미 편지를 읽었을 수도 있음

**시나리오 3: 메시지 내용 변경**
- 상황이 바뀌어 메시지 내용을 수정하고 싶음
- 예: "생일 축하" → "회복 기원"

---

## 사용자 가치 분석

### 긍정적 가치
1. **완벽주의 충족**: 보낸 후에도 수정 가능하여 안심
2. **유연성**: 상황 변화에 대응 가능
3. **사용자 만족도 향상**: 실수 보정 가능

### 부정적 가치 (리스크)
1. **수신자 혼란**: 이미 읽은 편지가 변경되면 혼란스러울 수 있음
2. **신뢰도 저하**: "편지가 바뀌었다"는 인식이 부정적일 수 있음
3. **기술적 복잡도**: 이미 공유된 링크의 내용 변경 처리

---

## 기술적 복잡도 분석

### 낮은 복잡도
- 편지 데이터 수정 (DB 업데이트)
- 편지 상세 페이지에서 수정 UI 제공

### 중간 복잡도
- 수정 이력 관리 (수정 전/후 버전 추적)
- 수신자에게 변경 알림 (선택적)

### 높은 복잡도
- 이미 공유된 링크의 내용 변경 처리
- 수신자가 이미 읽은 편지의 변경 처리
- 버전 관리 및 롤백 기능

---

## 경쟁 서비스 분석

### Spotify, Apple Music
- 플레이리스트 수정 가능 (자신의 플레이리스트)
- 공유된 플레이리스트는 수정 불가

### 카카오톡, 문자 메시지
- 보낸 메시지 수정 불가 (일관성 유지)

### 이메일
- 보낸 이메일 수정 불가 (일관성 유지)

**인사이트**: 대부분의 메시징 서비스는 보낸 메시지 수정을 허용하지 않음 (일관성 유지)

---

## 제안: 단계적 접근

### Phase 1: 제한적 수정 (P1)
**조건부 수정 허용**
- 수신자가 아직 편지를 읽지 않은 경우에만 수정 가능
- 수정 시 수신자에게 알림 (선택적)
- 수정 이력 표시 ("수정됨" 배지)

**사용 사례**:
- 오타 수정
- 곡 추가/삭제 (수신자가 읽기 전)

**기술적 구현**:
- 편지 열람 상태 추적 (`is_read` 필드)
- 수정 가능 여부 확인 API
- 수정 UI 제공

### Phase 2: 완전한 수정 (P2)
**모든 경우 수정 허용**
- 수신자가 이미 읽은 경우에도 수정 가능
- 수정 이력 관리 및 버전 표시
- 수신자에게 변경 알림

**사용 사례**:
- 모든 수정 케이스

**기술적 구현**:
- 버전 관리 시스템
- 변경 알림 시스템
- 수정 이력 UI

---

## 우선순위 제안

### P1 (중요 - UX 개선)
**제한적 수정 기능**
- 수신자가 읽기 전에만 수정 가능
- 간단한 구현으로 빠른 가치 제공
- 사용자 만족도 향상

**구현 범위**:
1. 편지 상세 페이지에 "수정하기" 버튼 추가 (보낸 편지만)
2. 수정 가능 여부 확인 (수신자 읽음 여부)
3. 편지 생성 페이지로 이동 (기존 데이터 로드)
4. 수정 완료 후 업데이트

### P2 (향후)
**완전한 수정 기능**
- 모든 경우 수정 가능
- 버전 관리 및 이력 추적
- 변경 알림 시스템

---

## 사용자 시나리오 제안

### 시나리오: 보낸 편지 수정 (수신자 미열람 시)

**사용자 목표**: 보낸 편지에 오타가 있어 수정하고 싶다.

**감성적 가치**: "실수를 바로잡을 수 있어 안심된다"

**플로우**:
1. 보관함의 "보낸 편지" 탭에서 편지 확인
2. 편지 상세 페이지 진입
3. "수정하기" 버튼 클릭 (수신자가 읽지 않은 경우에만 표시)
4. 편지 생성 페이지로 이동 (기존 데이터 로드)
5. 내용 수정 (곡 추가/삭제, 메시지 수정)
6. "수정 완료" 클릭
7. 편지가 업데이트됨

**제약사항**:
- 수신자가 이미 편지를 읽은 경우 수정 불가
- 수정 불가 시 안내 메시지 표시 ("이미 읽은 편지는 수정할 수 없습니다")

**성공 기준**:
- 수정 기능 사용률: 10% 이상
- 수정 완료율: 80% 이상
- 사용자 만족도 향상

---

## 다음 단계

1. **CEO 검토**: 이 기능의 우선순위 및 방향성 확인
2. **TPM 검토**: 기술적 구현 가능성 및 복잡도 확인
3. **PRD 업데이트**: P1 기능으로 추가 또는 P2 유지 결정
4. **사용자 시나리오 작성**: 상세 시나리오 문서화

---

**결론**: 보낸 편지 수정 기능은 사용자 가치가 있으나, 제한적 수정(P1)으로 시작하는 것이 현실적입니다. 완전한 수정 기능은 향후 고려(P2)하는 것이 적절합니다.

