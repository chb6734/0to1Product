# PRD v1: 차세대 환자 안전 & 정밀 진단 웹 LIS 플랫폼 MVP

**작성자**: Athena PM  
**작성 일시**: 2024년  
**버전**: v1  
**기반**: 실행 계획 (planning_madic/prd/execution_plan_v1.md), CEO 검토 (planning_madic/conversations/ceo_review_1.md)

---

## 1. 제품 개요

### 비전과 목표

**비전**: "병원의 시한폭탄을 제거하고, 환자 개인을 보는 정밀 의료를 실현한다"

**MVP 목표**: Real-time Infection Guard를 통해 병원 내 감염 확산을 0초로 줄이는 핵심 가치를 검증한다.

### 핵심 가치 제안

1. **실시간 감염 관리**: 검사 결과 보고 전 감염 알림으로 원내 감염 확산 차단
2. **의료 사고 예방**: 명확한 ROI 제공 (의료 사고 소송 비용 절감)
3. **웹 기반 접근성**: 설치 없이 바로 사용 가능한 구독 모델

### 타겟 사용자

#### 1차 타겟: 중소형 병원 (병상 100-500개)

- **페르소나**: 의료 사고 리스크를 줄이고 싶은 병원 관리자
- **니즈**:
  - 의료 사고 예방 및 소송 비용 절감
  - 병원 평가 인증 점수 향상
  - 정밀 의료 서비스 제공
- **사용 시나리오**: 감염 관리, 검사 결과 모니터링, 의료 사고 예방

#### 2차 타겟: 대학병원 및 대형 병원

- **페르소나**: 정밀 의료 인프라를 확장하고 싶은 병원 관리자
- **니즈**:
  - 고도화된 감염 관리 시스템
  - 개인 맞춤형 정밀 진단
  - 데이터 기반 의료 의사결정
- **사용 시나리오**: 정밀 진단, 감염 관리 고도화, 의료 품질 향상

---

## 2. 기능 명세

### 우선순위 정의

- **P0 (필수)**: MVP의 핵심 가치를 검증하기 위해 반드시 필요
- **P1 (중요)**: 사용자 경험을 크게 향상시키지만 MVP에서는 선택적
- **P2 (향후)**: Phase 2에서 추가

### P0: 핵심 기능

#### 2.1 사용자 인증 및 권한 관리

**기능 설명**:
- 의료진 로그인 및 역할 기반 접근 제어
- HIPAA 준수 보안 인프라

**상세 요구사항**:
- 이메일/소셜 로그인 지원 (Google, Microsoft)
- 역할 기반 접근 제어:
  - 임상병리사: 검체 접수, 검사 결과 입력
  - 의사: 검사 결과 확인, 승인
  - 간호사: 알림 확인, 환자 정보 조회
  - 관리자: 시스템 설정, 통계 조회
- 다중 인증 (MFA) 지원
- 세션 관리 및 자동 로그아웃

**사용자 시나리오**:
1. 사용자가 "로그인" 버튼 클릭
2. 이메일/소셜 로그인 선택
3. 인증 완료 후 역할에 따른 대시보드 표시
4. 세션 만료 시 자동 로그아웃

**사용자 변화**:
- **Before**: 복잡한 시스템 로그인, 역할별 접근 제어 어려움
- **After**: 간편한 로그인, 역할별 맞춤 대시보드, 보안 강화
- **변화 지표**: 로그인 완료 시간 30초 이내, 보안 사고 0건

**성공 기준**:
- 로그인 완료까지 30초 이내
- 보안 사고 0건
- HIPAA 준수 100%

---

#### 2.2 검체 접수 및 고위험군 알림

**기능 설명**:
- 검체 접수 화면에서 고위험군 환자 정보 팝업 표시
- EMR 연동 (수동 파일 업로드 - Phase 1)

**상세 요구사항**:

**2.2.1 검체 접수**
- 검체 정보 입력 (환자 ID, 검체 종류, 접수 시간)
- 바코드 스캔 지원
- 검체 상태 관리 (접수, 진행중, 완료)

**2.2.2 고위험군 알림**
- EMR 파일 업로드 (CSV, Excel)
- 고위험군 환자 정보 팝업:
  - 감염 이력 (VRE, CRE, MRSA 등)
  - 투석 여부
  - 격리 필요 여부
- 알림 확인 및 기록

**사용자 시나리오**:
1. 임상병리사가 검체 접수 화면 진입
2. 환자 ID 입력 또는 바코드 스캔
3. 고위험군 정보 팝업 표시
4. 알림 확인 및 검체 처리 주의사항 확인
5. 검체 접수 완료

**사용자 변화**:
- **Before**: 검체 접수 시 고위험군 정보를 별도로 확인해야 함
- **After**: 검체 접수 시 자동으로 고위험군 정보 표시, 사전 예방 가능
- **변화 지표**: 고위험군 알림 확인률 90% 이상, 검체 오염 사고 0건

**성공 기준**:
- 고위험군 알림 표시 시간 3초 이내
- 알림 확인률 90% 이상
- 검체 오염 사고 0건

---

#### 2.3 검사 결과 입력 및 감염 알림

**기능 설명**:
- 검사 결과 입력 및 감염균 감지 시 실시간 알림 전송

**상세 요구사항**:

**2.3.1 검사 결과 입력**
- 검사 결과 수기 입력
- 검사 항목 선택 (미생물 검사, PCR 등)
- 결과값 입력 (Positive/Negative, 수치 등)
- 임시 저장 및 중간 보고

**2.3.2 감염균 감지 및 알림**
- 감염균 감지 로직:
  - 법정 전염병 (결핵, 코로나 등)
  - 다제내성균 (VRE, CRE, MRSA 등)
- 실시간 알림 전송:
  - 감염관리실 대시보드
  - 해당 병동 간호 스테이션 대시보드
  - 담당 의사 (이메일, SMS)
- 알림 내용:
  - 환자 정보
  - 감염균 종류
  - 격리 필요 여부
  - 권장 조치사항

**사용자 시나리오**:
1. 임상병리사가 검사 결과 입력 화면 진입
2. 검사 항목 선택 및 결과 입력
3. 감염균 감지 시 자동 알림 전송
4. 알림 전송 확인 및 이력 기록
5. 검사 결과 승인 대기

**사용자 변화**:
- **Before**: 검사 결과 보고 후 의료진 확인까지 시차 발생, 감염 확산 위험
- **After**: 검사 결과 입력 즉시 알림 전송, 0초 대응 가능
- **변화 지표**: 알림 응답 시간 5분 이내, 감염 사고 0건

**레버리지 포인트 활용**:
- **핵심 레버리지**: 실시간 알림으로 의료 사고 예방
- 마케팅 메시지의 핵심: "감염 확산을 0초로 줄입니다"
- 경쟁자 모방 어려움: 기술적 진입장벽

**성공 기준**:
- 알림 전송 시간 3초 이내
- 알림 응답 시간 5분 이내
- 감염 사고 0건

---

#### 2.4 실시간 알림 대시보드

**기능 설명**:
- 실시간 알림 모니터링 및 관리 대시보드

**상세 요구사항**:

**2.4.1 알림 대시보드**
- 실시간 알림 목록 표시
- 알림 우선순위 표시 (긴급, 일반)
- 알림 상태 관리 (미확인, 확인중, 완료)
- 알림 필터링 (감염균 종류, 병동, 날짜)

**2.4.2 알림 상세 정보**
- 환자 정보
- 감염균 종류 및 상세 정보
- 검사 결과 상세
- 권장 조치사항
- 알림 이력

**2.4.3 알림 확인 및 추적**
- 알림 확인 버튼
- 조치사항 입력
- 알림 완료 처리
- 알림 이력 조회

**사용자 시나리오**:
1. 감염관리실 직원이 대시보드 진입
2. 실시간 알림 목록 확인
3. 긴급 알림 클릭하여 상세 정보 확인
4. 권장 조치사항 확인 및 조치 입력
5. 알림 완료 처리

**사용자 변화**:
- **Before**: 알림을 이메일이나 전화로 받아 확인 지연
- **After**: 실시간 대시보드에서 즉시 확인 및 대응 가능
- **변화 지표**: 알림 확인 시간 1분 이내, 알림 응답 시간 5분 이내

**성공 기준**:
- 알림 확인 시간 1분 이내
- 알림 응답 시간 5분 이내
- 알림 누락률 0%

---

#### 2.5 EMR 파일 업로드 (Phase 1)

**기능 설명**:
- EMR 데이터 수동 파일 업로드 (자동 연동은 Phase 2)

**상세 요구사항**:
- 파일 형식 지원 (CSV, Excel)
- 파일 업로드 및 파싱
- 환자 정보 매칭
- 업로드 이력 관리
- 에러 처리 및 재시도

**사용자 시나리오**:
1. 관리자가 EMR 데이터 업로드 화면 진입
2. 파일 선택 및 업로드
3. 파일 파싱 및 환자 정보 매칭
4. 업로드 완료 확인
5. 업로드 이력 조회

**성공 기준**:
- 파일 업로드 성공률 95% 이상
- 파일 파싱 시간 10초 이내

---

### 2.6 핵심 레버리지 포인트

#### 레버리지 포인트 1: 실시간 감염 관리 (가장 중요)

**왜 중요한가**:
- 이것이 플랫폼의 핵심 차별화 포인트
- 명확한 ROI 제공 (의료 사고 비용 절감)
- 병원의 생존 문제 해결

**활용 방법**:
- MVP에서 이 기능을 완벽하게 구현해야 함
- 마케팅 메시지의 핵심으로 활용: "감염 확산을 0초로 줄입니다"
- 파일럿 병원에서 이 가치를 검증

**기능 매핑**:
- **2.3 검사 결과 입력 및 감염 알림**: 핵심 구현
- **2.4 실시간 알림 대시보드**: 실시간 모니터링
- **2.2 고위험군 알림**: 사전 예방

**마케팅 전략**:
- 병원 관리자 대상: "의료 사고 소송 비용 절감"
- 의료진 대상: "감염 확산 예방으로 안전한 업무 환경"

---

#### 레버리지 포인트 2: 웹 기반 구독 모델

**왜 중요한가**:
- 낮은 진입 장벽 (설치 불필요)
- 빠른 도입 가능
- 확장성과 경제성

**활용 방법**:
- MVP에서 웹 기반 아키텍처 완벽 구현
- 구독 모델로 빠른 수익화
- 클라우드 기반으로 자동 스케일링

**기능 매핑**:
- **2.1 사용자 인증**: 웹 기반 인증
- **전체 시스템**: 웹 브라우저에서 즉시 사용 가능

**마케팅 전략**:
- "설치 없이 바로 사용하는 웹 기반 솔루션"
- "초기 도입 비용 최소화"

---

#### 레버리지 포인트 3: HIPAA 준수 보안

**왜 중요한가**:
- 의료 데이터 보안 필수
- 법적 리스크 방지
- 병원 신뢰도 확보

**활용 방법**:
- MVP에서 HIPAA 준수 완벽 구현
- 보안 감사 및 인증 획득
- 마케팅 포인트로 활용

**기능 매핑**:
- **2.1 사용자 인증**: 보안 강화
- **전체 시스템**: 엔드투엔드 암호화, 감사 로그

**마케팅 전략**:
- "HIPAA 준수 보안 인프라"
- "의료 데이터 완벽 보호"

---

### P1: 사용자 경험 향상 기능

#### 2.7 알림 통계 및 분석
- 알림 발생 통계
- 응답 시간 분석
- 감염 사고 추이 분석

#### 2.8 모바일 앱 (선택적)
- 모바일 알림 확인
- 간편한 검사 결과 조회

### P2: 향후 기능 (Phase 2)
- Personalized Delta Check (개인 맞춤형 정밀 진단)
- Smart Patient Report (환자 친화적 리포트)
- AI 기반 운영 예측
- EMR 자동 연동

---

## 3. 기술 요구사항

### 기술 스택

#### Frontend
- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **UI Components**: shadcn/ui
- **State Management**: React Context 또는 Zustand
- **Real-time**: WebSocket (Socket.io)

#### Backend
- **Database**: PostgreSQL (Supabase)
- **Authentication**: Supabase Auth
- **API**: Next.js API Routes
- **Real-time**: Supabase Realtime 또는 Socket.io

#### External APIs
- **EMR 연동**: HL7 FHIR (Phase 2)
- **알림**: 이메일 (SendGrid), SMS (Twilio)

#### 배포 및 인프라
- **Hosting**: AWS (EC2, Lambda) 또는 Azure
- **Database**: AWS RDS 또는 Azure Database
- **CDN**: CloudFront 또는 Azure CDN
- **Monitoring**: CloudWatch 또는 Azure Monitor
- **Security**: HIPAA 준수 인프라

### 성능 요구사항
- **페이지 로딩 시간**: 2초 이하
- **API 응답 시간**: 1초 이하
- **알림 전송 시간**: 3초 이내
- **에러율**: 1% 이하
- **가용성**: 99.9% 이상

### 보안 요구사항
- **HIPAA 준수**: 필수
- **엔드투엔드 암호화**: 필수
- **다중 인증 (MFA)**: 필수
- **감사 로그 (Audit Trail)**: 필수
- **데이터 백업**: 일일 자동 백업
- **SQL Injection 방지**: 필수
- **XSS 방지**: 필수

### 확장성 요구사항
- 초기: 병원 3곳 지원
- 6개월: 병원 20곳 지원
- 12개월: 병원 100곳 지원
- 서버리스 아키텍처로 자동 스케일링

---

## 4. 사용자 경험

### 주요 화면 플로우

#### 플로우 1: 검체 접수 및 고위험군 알림

```
로그인
  ↓
검체 접수 화면
  ↓
환자 ID 입력 또는 바코드 스캔
  ↓
고위험군 정보 팝업 표시
  ↓
알림 확인 및 검체 접수 완료
```

#### 플로우 2: 검사 결과 입력 및 감염 알림

```
검사 결과 입력 화면
  ↓
검사 항목 선택 및 결과 입력
  ↓
감염균 감지 시 자동 알림 전송
  ↓
알림 전송 확인 및 이력 기록
  ↓
검사 결과 승인 대기
```

#### 플로우 3: 실시간 알림 확인 및 대응

```
알림 대시보드 진입
  ↓
실시간 알림 목록 확인
  ↓
긴급 알림 클릭하여 상세 정보 확인
  ↓
권장 조치사항 확인 및 조치 입력
  ↓
알림 완료 처리
```

### 인터랙션 설계

#### 검체 접수
- **환자 ID 입력**: 실시간 검색 (debounce 300ms)
- **바코드 스캔**: 자동 인식
- **고위험군 알림**: 자동 팝업 표시

#### 검사 결과 입력
- **결과 입력**: 드롭다운 선택 또는 직접 입력
- **감염균 감지**: 자동 감지 및 알림 전송
- **임시 저장**: 5초마다 자동 저장

#### 알림 확인
- **실시간 업데이트**: WebSocket으로 실시간 알림 수신
- **알림 확인**: 원클릭 확인
- **조치 입력**: 간편한 입력 폼

### 에러 처리

#### 검체 접수 실패
- "검체 접수에 실패했습니다" 메시지
- 재시도 버튼
- 고객 지원 연락처 안내

#### 알림 전송 실패
- 다중 채널 재시도 (이메일, SMS)
- 실패 알림 기록
- 관리자에게 알림

#### 네트워크 오류
- 오프라인 상태 감지
- 재시도 버튼
- 로컬 저장 (선택적)

---

## 5. 성공 지표 (KPI)

### 정량적 지표

#### 사용자 성장 (2개월 목표)
- 파일럿 병원: 3곳
- 활성 사용자: 일일 50명 이상
- 사용자 만족도: 4.0/5.0 이상

#### 제품 사용
- 감염 알림 전송: 일일 10건 이상
- 알림 응답 시간: 5분 이내
- 알림 확인률: 90% 이상
- 감염 사고 발생률: 0건

#### 비즈니스
- 도입 전환율: 30% 이상 (데모 → 계약)
- 초기 도입 비용: 1,000,000원 이하
- 월 구독 수익: 3,000,000원 (파일럿 병원 3곳)

### 정성적 지표

#### 사용자 만족도
- NPS (Net Promoter Score): 50 이상
- 앱 스토어 평점: 4.0/5.0 이상
- 사용자 인터뷰: 주 2명 이상

#### 제품 품질
- 에러율: 1% 이하
- 페이지 로딩 시간: 2초 이하
- API 응답 시간: 1초 이하
- 시스템 가용성: 99.9% 이상

### 검증 방법

#### 데이터 수집
- Google Analytics (사용자 행동)
- 클라우드 모니터링 (성능)
- 사용자 피드백 폼 (인앱)
- 정기 사용자 인터뷰 (주 2명)

#### 분석 주기
- 일일: 핵심 지표 모니터링
- 주간: 성장 지표 분석 및 개선점 도출
- 월간: 전체 KPI 평가 및 전략 조정

---

## 6. 리스크 및 대응

### 기술적 리스크

#### 리스크 1: EMR 연동의 복잡성
**영향도**: 높음  
**확률**: 높음  
**대응**:
1. Phase 1: 수동 파일 업로드로 시작
2. 표준화된 파일 형식 제공
3. 주요 EMR 벤더와의 파트너십 추진 (Phase 2)

#### 리스크 2: 실시간 알림 시스템의 신뢰성
**영향도**: 매우 높음  
**확률**: 중간  
**대응**:
1. 다중 알림 채널 (이메일, SMS, 대시보드)
2. 알림 확인 메커니즘
3. 장애 대응 프로토콜
4. 모니터링 및 알림 시스템

#### 리스크 3: 의료 데이터 보안 및 규제
**영향도**: 매우 높음  
**확률**: 높음  
**대응**:
1. HIPAA 준수 보안 인프라
2. 엔드투엔드 암호화
3. 감사 로그 체계적 관리
4. 규제 전문가와의 협업

### 시장적 리스크

#### 리스크 4: 병원의 보수적 문화
**영향도**: 높음  
**확률**: 높음  
**대응**:
1. 명확한 ROI 제시
2. 파일럿 프로그램 제공
3. 의료진 교육 및 지원
4. 성공 사례 마케팅

#### 리스크 5: 경쟁자 대응
**영향도**: 높음  
**확률**: 중간 (12개월 후)  
**대응**:
1. 빠른 시장 선점
2. 네트워크 효과 구축
3. 사용자 로열티 확보
4. 지속적인 기능 개선

### 운영 리스크

#### 리스크 6: 개발 지연
**영향도**: 중간  
**확률**: 중간  
**대응**:
1. MVP 범위 최소화
2. 우선순위 명확화
3. 주간 마일스톤 설정

---

## 7. 일정 및 마일스톤

### MVP 개발 일정 (2개월)

#### Week 1-2: 기반 구축
- [ ] Next.js 프로젝트 설정
- [ ] 데이터베이스 설계 (PostgreSQL)
- [ ] 사용자 인증 시스템 (Supabase Auth)
- [ ] 기본 UI 컴포넌트
- [ ] HIPAA 준수 보안 인프라

**마일스톤**: 사용자 인증 완료

#### Week 3-4: 핵심 기능 개발
- [ ] 검체 접수 화면
- [ ] 검사 결과 입력 화면
- [ ] 감염균 감지 로직
- [ ] 실시간 알림 시스템 (WebSocket)
- [ ] 알림 대시보드

**마일스톤**: Real-time Infection Guard 완성

#### Week 5-6: 통합 및 테스트
- [ ] EMR 파일 업로드 기능
- [ ] 알림 전송 시스템 통합
- [ ] 보안 감사 및 HIPAA 준수 검증
- [ ] 성능 테스트
- [ ] 사용자 테스트

**마일스톤**: 전체 플로우 완성

#### Week 7-8: 폴리싱 및 배포
- [ ] UI/UX 개선
- [ ] 에러 처리 강화
- [ ] 문서화
- [ ] 클라우드 배포 (AWS/Azure)
- [ ] 파일럿 병원 온보딩

**마일스톤**: MVP 출시 완료

---

## 8. 리소스 요구사항

### 인력
- **풀스택 개발자 2명** (MVP 기간)
- **의료 도메인 전문가 1명** (파트타임, 컨설팅)
- **보안 전문가 1명** (파트타임, HIPAA 준수)

### 예산 (MVP 2개월)
- 개발자: 10,000,000원 (2명 × 2개월)
- 클라우드 인프라: $1,500/월 × 2개월 = $3,000
- 보안 감사: 2,000,000원
- 의료 도메인 전문가: 1,000,000원
- **총: 13,000,000원**

### 기술 리소스
- AWS/Azure 클라우드 인프라
- HIPAA 준수 보안 인프라
- 모니터링 도구

---

## 9. CEO 피드백 반영

### ✅ 반영된 사항

1. **MVP 범위 축소**: Real-time Infection Guard에 집중
2. **개발 기간 단축**: 6개월 → 2개월
3. **비용 절감**: 30,000,000원 → 13,000,000원
4. **속도 우선**: 완벽보다 빠른 실행
5. **조기 수익화**: MVP 출시 후 즉시 시작
6. **EMR 연동 전략**: 단계적 접근 (수동 → 자동)

---

**Athena PM**  
"비전이 현실이 되는 과정엔 구조가 필요하다. 이 PRD가 그 구조의 첫 단계다. Real-time Infection Guard로 시작하여, 단계적으로 확장해나가자."

