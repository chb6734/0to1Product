# 🎨 사용자 플로우 디자인

**작성자**: Maya Designer  
**작성 일시**: 2024년  
**기반**: 디자인 시스템 (design/design_system.md), PRD v2

---

## 플로우 디자인 원칙

1. **Progressive Disclosure**: 정보를 점진적으로 공개
2. **Clear Feedback**: 모든 액션에 즉각적 피드백
3. **Error Prevention**: 실수를 방지하는 디자인
4. **Consistent Navigation**: 일관된 네비게이션
5. **Mobile First**: 모바일 우선 설계

---

## 플로우 1: 사용자 가입 및 온보딩

### 플로우 다이어그램

```
[랜딩 페이지]
    │
    ▼
[로그인 선택] ── Google ── [OAuth 승인] ── [콜백 처리]
    │              │
    ├── Kakao ─────┘
    │              │
    └── Apple ─────┘
                    │
                    ▼
            [온보딩 페이지]
                    │
        ┌───────────┼───────────┐
        │           │           │
    [닉네임 입력] [프로필 이미지] [완료]
        │           │           │
        └───────────┼───────────┘
                    │
                    ▼
            [메인 페이지]
```

### 각 단계의 목적과 콘텐츠

#### 1. 랜딩 페이지 (/)

**목적**: 서비스 소개 및 가입 유도

**콘텐츠**:
- 히어로 섹션: "음악으로 모인 사람들이, 음악으로 살아갈 수 있도록"
- 핵심 가치 제안: 플랫폼 중립성, 감성 전달, 영구 보관
- CTA: "시작하기" 버튼 (Primary Button)
- 미리보기: 편지 카드 예시

**디자인 요소**:
- 배경: 그라데이션 (Primary 50 → Secondary 50)
- 타이포그래피: H1 (36px), Bold
- CTA: Primary Button, 큰 크기

---

#### 2. 로그인 선택 페이지 (/login)

**목적**: 소셜 로그인 선택

**콘텐츠**:
- 헤더: "FAN:STAGE 시작하기"
- 소셜 로그인 버튼: Google, Kakao, Apple
- 각 버튼에 플랫폼 아이콘 + 이름
- "계속 진행하면 이용약관에 동의하는 것입니다" 안내

**디자인 요소**:
- 버튼 크기: 전체 너비, 높이 56px
- 버튼 스타일: 각 플랫폼 브랜드 컬러 사용
- 간격: 버튼 간 12px
- 로딩: 버튼 클릭 시 스피너 표시

---

#### 3. 온보딩 페이지 (/onboarding)

**목적**: 사용자 프로필 설정

**콘텐츠**:
- 진행 표시기: Step 1/2
- 닉네임 입력 (필수)
- 프로필 이미지 업로드 (선택)
- "나중에" 옵션 제공
- "완료" 버튼

**디자인 요소**:
- 진행 표시기: 상단에 표시, Primary 컬러
- 입력 필드: 큰 크기 (높이 56px), 명확한 라벨
- 프로필 이미지: 원형, 드래그 앤 드롭 영역
- 버튼: Primary Button, 하단 고정

**에러 처리**:
- 닉네임 중복: 인라인 에러 메시지
- 이미지 크기 초과: 토스트 에러
- 네트워크 오류: 재시도 버튼

---

#### 4. 메인 페이지 (/)

**목적**: 편지 목록 및 주요 액션

**콘텐츠**:
- 헤더: 로고, 프로필, 알림
- CTA: "편지 만들기" 버튼 (Floating Action Button)
- 편지 목록: 받은 편지, 보낸 편지 탭
- 빈 상태: "첫 편지를 만들어보세요" 안내

**디자인 요소**:
- 네비게이션: 상단 고정, 그림자
- FAB: 우측 하단 고정, Primary 컬러
- 탭: 상단에 표시, 활성 탭 강조
- 카드: 그리드 레이아웃, 호버 효과

---

## 플로우 2: 편지 생성

### 플로우 다이어그램

```
[메인 페이지]
    │
    ▼
[편지 생성 페이지]
    │
    ├── [곡 검색] ── [검색 결과] ── [곡 추가]
    │       │
    │       └── [검색 없음] ── [안내 메시지]
    │
    ├── [플레이리스트 편집]
    │       │
    │       ├── [곡 삭제]
    │       ├── [곡 순서 변경]
    │       └── [곡 메모 추가]
    │
    ├── [메시지 작성]
    │       │
    │       ├── [직접 입력]
    │       └── [AI 생성] ── [템플릿 선택] ── [생성] ── [수정]
    │
    └── [미리보기] ── [수정] ── [완료]
            │
            ▼
    [전송 페이지]
            │
        ┌───┴───┐
        │       │
    [이메일 입력] [링크 복사]
        │       │
        └───┬───┘
            │
            ▼
    [전송 완료]
```

### 각 단계의 목적과 콘텐츠

#### 1. 편지 생성 페이지 (/create)

**목적**: 편지 생성 및 편집

**레이아웃** (데스크톱):
- 좌측: 편집 영역 (60%)
- 우측: 실시간 미리보기 (40%)

**레이아웃** (모바일):
- 탭으로 전환: 편집 / 미리보기

**콘텐츠**:
- 진행 표시기: Step 1/3 (곡 추가), Step 2/3 (메시지), Step 3/3 (미리보기)
- 검색 바: 상단 고정
- 플레이리스트 영역: 곡 목록, 드래그 앤 드롭
- 메시지 입력: 텍스트 영역
- AI 생성 버튼: 메시지 입력 옆
- 미리보기: 카드 형태

**디자인 요소**:
- 진행 표시기: 상단에 표시, Primary 컬러
- 검색 바: 전체 너비, 높이 56px, 아이콘 포함
- 곡 카드: 호버 효과, 삭제 버튼, 드래그 핸들
- 메시지 입력: 자동 높이 조절, 글자 수 표시
- 자동 저장: 하단에 "자동 저장됨" 표시

**에러 처리**:
- 검색 실패: "다시 시도해주세요" 메시지
- 저장 실패: 토스트 에러, 재시도 버튼
- 유효성 검사: 실시간 피드백

---

#### 2. 곡 검색 및 추가

**목적**: 플레이리스트에 곡 추가

**콘텐츠**:
- 검색 바: 플레이스홀더 "곡 제목 또는 아티스트명 검색"
- 검색 결과: 카드 형태, 앨범 커버, 제목, 아티스트
- 플랫폼 아이콘: 각 곡에 표시
- "추가" 버튼: 각 곡 카드에

**디자인 요소**:
- 검색 결과: 그리드 레이아웃 (모바일: 1 컬럼, 데스크톱: 2-3 컬럼)
- 곡 카드: 호버 시 확대 효과
- 로딩: 스켈레톤 UI
- 빈 상태: "검색 결과가 없습니다" 안내

**인터랙션**:
- 검색: debounce 300ms
- 추가: 클릭 시 애니메이션 (Scale + Fade)
- 피드백: "추가됨" 토스트

---

#### 3. 플레이리스트 편집

**목적**: 플레이리스트 순서 및 내용 편집

**콘텐츠**:
- 곡 목록: 드래그 앤 드롭 가능
- 각 곡: 제목, 아티스트, 앨범 커버, 삭제 버튼, 메모 버튼
- 순서 변경: 드래그 핸들 표시
- 메모 추가: 인라인 편집

**디자인 요소**:
- 곡 카드: 호버 시 삭제 버튼 표시
- 드래그 핸들: 왼쪽에 표시, 그리드 아이콘
- 메모: 작은 아이콘, 클릭 시 모달
- 빈 상태: "곡을 검색해 추가하세요" 안내

**인터랙션**:
- 드래그 앤 드롭: react-beautiful-dnd
- 삭제: 스와이프 제스처 (모바일), 확인 모달
- 메모: 인라인 편집 또는 모달

---

#### 4. 메시지 작성

**목적**: 편지 메시지 작성

**콘텐츠**:
- 텍스트 입력 영역: 자동 높이 조절
- 글자 수 표시: "0/500"
- AI 생성 버튼: "AI로 메시지 생성"
- 템플릿 선택: 생일, 위로, 축하, 사랑, 우정

**디자인 요소**:
- 입력 영역: 큰 크기, 보더 반경 12px
- AI 버튼: Secondary Button, 아이콘 포함
- 템플릿: 카드 형태, 아이콘 + 이름

**인터랙션**:
- AI 생성: 로딩 스피너, 생성된 메시지 표시
- 수정: 생성된 메시지 편집 가능
- 실시간 미리보기: 우측에 표시 (데스크톱)

---

#### 5. 미리보기 및 전송

**목적**: 편지 최종 확인 및 전송

**콘텐츠**:
- 미리보기: 편지 카드 형태
- 수정 버튼: "수정하기"
- 전송 버튼: "전송하기"
- 전송 옵션: 이메일 입력 또는 링크 복사

**디자인 요소**:
- 미리보기 카드: 편지 느낌의 디자인, 그림자
- 전송 옵션: 탭으로 전환
- 링크 복사: 클립보드 아이콘, 복사 완료 피드백

**인터랙션**:
- 전송 완료: 성공 애니메이션, 공유 링크 표시
- 에러: 토스트 에러, 재시도 버튼

---

## 플로우 3: 편지 열람 및 플레이리스트 저장

### 플로우 다이어그램

```
[편지 링크 클릭]
    │
    ▼
[편지 열람 페이지] (공개)
    │
    ├── [편지 내용 표시]
    │       │
    │       ├── [보낸 사람 정보]
    │       ├── [메시지]
    │       └── [플레이리스트]
    │
    └── [플레이리스트 저장]
            │
        ┌───┴───┐
        │       │
    [플랫폼 선택] [연동 필요]
        │       │
        │       └── [OAuth 플로우]
        │
        └── [저장 진행] ── [저장 완료]
                │
                └── [플랫폼 링크]
```

### 각 단계의 목적과 콘텐츠

#### 1. 편지 열람 페이지 (/letter/[token])

**목적**: 편지 내용 표시 및 플레이리스트 저장 유도

**콘텐츠**:
- 편지 카드: 큰 크기, 편지 느낌
- 보낸 사람: 프로필 이미지, 닉네임
- 메시지: 큰 텍스트, 감성적 디자인
- 플레이리스트: 곡 목록, 앨범 커버
- CTA: "내 플랫폼에 저장" 버튼 (큰 크기)

**디자인 요소**:
- 배경: 그라데이션 또는 패턴
- 편지 카드: 그림자, 보더 반경 16px
- 플레이리스트: 그리드 레이아웃
- CTA: Primary Button, 전체 너비 (모바일)

**인터랙션**:
- 스크롤: 부드러운 스크롤
- 곡 호버: 확대 효과
- CTA: 항상 보이도록 고정 (모바일)

---

#### 2. 플랫폼 선택 모달

**목적**: 저장할 플랫폼 선택

**콘텐츠**:
- 헤더: "어떤 플랫폼에 저장하시겠어요?"
- 플랫폼 버튼: Spotify, YouTube Music, Apple Music, 멜론
- 각 버튼: 플랫폼 아이콘 + 이름
- 연동 상태: 연동됨 / 연동 필요 표시

**디자인 요소**:
- 모달: 중앙 정렬, 최대 너비 480px
- 플랫폼 버튼: 큰 크기 (높이 64px), 전체 너비
- 연동 상태: 작은 배지로 표시
- 취소 버튼: Ghost Button

**인터랙션**:
- 플랫폼 선택: 클릭 시 저장 시작
- 미연동: OAuth 플로우 시작
- 저장 중: 진행 표시기

---

#### 3. 저장 진행 및 완료

**목적**: 저장 상태 표시 및 완료 안내

**콘텐츠**:
- 진행 표시기: "플레이리스트 저장 중..."
- 곡 매칭 상태: 매칭 중 / 매칭 완료 / 매칭 실패
- 완료 메시지: "저장 완료!"
- 플랫폼 링크: "플레이리스트 보기" 버튼

**디자인 요소**:
- 진행 표시기: 프로그레스 바 + 텍스트
- 곡 매칭: 각 곡에 상태 아이콘
- 완료: 성공 애니메이션 (체크마크)
- 링크 버튼: Secondary Button

**에러 처리**:
- 매칭 실패: "이 곡을 찾을 수 없습니다" 표시
- 저장 실패: 에러 메시지, 재시도 버튼
- 네트워크 오류: 재시도 버튼

---

## 플로우 4: 편지 보관함

### 플로우 다이어그램

```
[보관함 페이지]
    │
    ├── [받은 편지 탭]
    │       │
    │       ├── [편지 목록] ── [필터] ── [검색]
    │       │       │
    │       │       └── [편지 상세]
    │       │
    │       └── [빈 상태]
    │
    └── [보낸 편지 탭]
            │
            ├── [편지 목록] ── [필터] ── [검색]
            │       │
            │       └── [편지 상세]
            │
            └── [빈 상태]
```

### 각 단계의 목적과 콘텐츠

#### 1. 보관함 페이지 (/inbox, /sent)

**목적**: 편지 목록 표시 및 관리

**콘텐츠**:
- 헤더: 탭 (받은 편지 / 보낸 편지)
- 검색 바: 상단 고정
- 필터: 날짜별, 사람별 (받은 편지만)
- 편지 목록: 그리드 또는 리스트 뷰
- 뷰 전환: 그리드/리스트 토글

**디자인 요소**:
- 탭: 상단 고정, 활성 탭 강조
- 검색 바: 전체 너비, 아이콘 포함
- 필터: 칩 형태, 선택 시 Primary 컬러
- 그리드 뷰: 카드 형태, 2-3 컬럼
- 리스트 뷰: 컴팩트한 형태, 1 컬럼

**인터랙션**:
- 검색: debounce 300ms, 실시간 결과
- 필터: 클릭 시 즉시 적용
- 뷰 전환: 애니메이션 효과
- 무한 스크롤: 하단 스크롤 시 로드

---

#### 2. 편지 상세 페이지

**목적**: 편지 전체 내용 표시

**콘텐츠**:
- 편지 카드: 전체 내용
- 보낸 사람 정보: 프로필, 닉네임
- 메시지: 큰 텍스트
- 플레이리스트: 전체 곡 목록
- 액션: 저장, 공유, 삭제

**디자인 요소**:
- 편지 카드: 큰 크기, 편지 느낌
- 플레이리스트: 리스트 형태, 앨범 커버
- 액션 버튼: 하단 고정 (모바일)

**인터랙션**:
- 스크롤: 부드러운 스크롤
- 저장: 플랫폼 선택 모달
- 공유: 공유 옵션 모달
- 삭제: 확인 모달

---

## 분기점 및 에러 처리

### 분기점 1: 로그인 상태

**케이스 1**: 로그인하지 않은 사용자
- 편지 열람: 가능 (공개 링크)
- 편지 저장: 로그인 유도 모달
- 보관함: 로그인 페이지로 리다이렉트

**케이스 2**: 로그인한 사용자
- 모든 기능 사용 가능
- 보관함에 자동 저장

---

### 분기점 2: 플랫폼 연동 상태

**케이스 1**: 연동된 플랫폼
- 즉시 저장 가능
- 진행 표시기만 표시

**케이스 2**: 미연동 플랫폼
- OAuth 플로우 시작
- 연동 완료 후 저장

**케이스 3**: 멜론 (API 부재)
- 수동 입력 안내
- 대안 플랫폼 제안

---

### 에러 처리

**네트워크 오류**:
- 토스트 에러 메시지
- 재시도 버튼 제공
- 오프라인 모드 안내

**인증 오류**:
- 로그인 페이지로 리다이렉트
- 명확한 에러 메시지

**저장 실패**:
- 에러 메시지 표시
- 재시도 버튼
- 대안 플랫폼 제안

**검색 실패**:
- "검색 결과가 없습니다" 안내
- 검색어 제안
- 재시도 버튼

---

## 다음 단계

이 사용자 플로우 디자인을 바탕으로 다음을 수행하겠습니다:

1. 화면별 디자인 명세 작성
2. 인터랙션 가이드 작성
3. 반응형 디자인 전략 수립
4. 접근성 가이드라인 수립

---

**Maya Designer**  
"사용자 플로우를 최적화하여 직관적이고 효율적인 경험을 설계했습니다. 다음 단계로 화면별 디자인 명세를 작성하겠습니다."

